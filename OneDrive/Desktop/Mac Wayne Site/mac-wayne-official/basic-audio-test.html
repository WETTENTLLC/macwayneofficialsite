<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic Audio Test</title>
    <style>
        body {
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #1a1a1a;
            color: white;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #333;
            border-radius: 8px;
        }
        button {
            background: #c9a96e;
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #b8965d;
        }
        audio {
            width: 100%;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>Basic Audio Test</h1>
    
    <div class="test-section">
        <h2>HTML5 Audio Element Test</h2>        <audio id="testAudio" controls>
            <source src="public/audio/Blind and Battered [Explicit]/01 - Gotta Split [Explicit].mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        <br>
        <button onclick="playAudio()">Play Audio</button>
        <button onclick="pauseAudio()">Pause Audio</button>
        <button onclick="checkAudioFile()">Check Audio File</button>
    </div>
    
    <div class="test-section">
        <h2>JavaScript Audio Test</h2>
        <button onclick="testJavaScriptAudio()">Test JavaScript Audio</button>
        <div id="jsAudioStatus"></div>
    </div>
    
    <div class="test-section">
        <h2>File Path Test</h2>
        <button onclick="testFilePaths()">Test File Paths</button>
        <div id="filePathStatus"></div>
    </div>

    <script>
        const audio = document.getElementById('testAudio');
        
        function playAudio() {
            console.log('Playing audio...');
            audio.play().then(() => {
                console.log('Audio playing successfully');
            }).catch(error => {
                console.error('Error playing audio:', error);
                alert('Error playing audio: ' + error.message);
            });
        }
        
        function pauseAudio() {
            console.log('Pausing audio...');
            audio.pause();
        }
        
        function checkAudioFile() {
            console.log('Checking audio file...');
            console.log('Audio src:', audio.src);
            console.log('Audio readyState:', audio.readyState);
            console.log('Audio duration:', audio.duration);
            console.log('Audio error:', audio.error);
            
            if (audio.error) {
                alert('Audio error: ' + audio.error.message);
            }
        }
          function testJavaScriptAudio() {
            console.log('Testing JavaScript Audio...');
            const jsAudio = new Audio();
            jsAudio.src = 'public/audio/Blind and Battered [Explicit]/01 - Gotta Split [Explicit].mp3';
            
            jsAudio.addEventListener('loadstart', () => {
                console.log('Audio load started');
                document.getElementById('jsAudioStatus').innerHTML += 'Load started<br>';
            });
            
            jsAudio.addEventListener('canplay', () => {
                console.log('Audio can play');
                document.getElementById('jsAudioStatus').innerHTML += 'Can play<br>';
            });
            
            jsAudio.addEventListener('error', (e) => {
                console.error('Audio error:', e);
                document.getElementById('jsAudioStatus').innerHTML += 'Error: ' + e.message + '<br>';
            });
            
            jsAudio.load();
            
            setTimeout(() => {
                jsAudio.play().then(() => {
                    console.log('JavaScript audio playing');
                    document.getElementById('jsAudioStatus').innerHTML += 'Playing successfully<br>';
                }).catch(error => {
                    console.error('JavaScript audio play error:', error);
                    document.getElementById('jsAudioStatus').innerHTML += 'Play error: ' + error.message + '<br>';
                });
            }, 1000);
        }
        
        function testFilePaths() {            const paths = [
                'public/audio/Blind and Battered [Explicit]/01 - Gotta Split [Explicit].mp3',
                './public/audio/Blind and Battered [Explicit]/01 - Gotta Split [Explicit].mp3',
                '/public/audio/Blind and Battered [Explicit]/01 - Gotta Split [Explicit].mp3'
            ];
            
            const statusDiv = document.getElementById('filePathStatus');
            statusDiv.innerHTML = '';
            
            paths.forEach((path, index) => {
                const img = new Image();
                img.onload = () => {
                    statusDiv.innerHTML += `Path ${index + 1}: ✅ EXISTS<br>`;
                };
                img.onerror = () => {
                    // For audio files, we'll try fetch instead
                    fetch(path, { method: 'HEAD' })
                        .then(response => {
                            if (response.ok) {
                                statusDiv.innerHTML += `Path ${index + 1} (${path}): ✅ EXISTS<br>`;
                            } else {
                                statusDiv.innerHTML += `Path ${index + 1} (${path}): ❌ NOT FOUND (${response.status})<br>`;
                            }
                        })
                        .catch(error => {
                            statusDiv.innerHTML += `Path ${index + 1} (${path}): ❌ ERROR (${error.message})<br>`;
                        });
                };
                img.src = path; // This will trigger error for audio files, then we use fetch
            });
        }
        
        // Auto-test on load
        window.addEventListener('load', () => {
            console.log('Page loaded, testing file paths...');
            testFilePaths();
        });
    </script>
</body>
</html>
