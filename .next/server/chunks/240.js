"use strict";exports.id=240,exports.ids=[240],exports.modules={31:(e,a,r)=>{r.d(a,{A:()=>u});var t=r(687),s=r(3210),l=r(4021),n=r(3943),i=r(6058),o=r(7840),c=r(1096),d=r(9925),x=r(1391);function u({src:e,title:a,artist:r="Mac Wayne",duration:u,className:m="",showWaveform:h=!1,previewMode:g=!1,previewDuration:y=30,requiresPurchase:b=!1,onPurchaseClick:p}){let[f,j]=(0,s.useState)(!1),[v,N]=(0,s.useState)(0),[w,$]=(0,s.useState)(0),[P,k]=(0,s.useState)(1),[A,C]=(0,s.useState)(!1),[S,M]=(0,s.useState)(!1),z=(0,s.useRef)(null),T=(0,s.useRef)(null),R=e=>{if(isNaN(e))return"0:00";let a=Math.floor(e/60),r=Math.floor(e%60);return`${a}:${r.toString().padStart(2,"0")}`},U=w?v/w*100:0,D=g&&w?y/w*100:100;return(0,t.jsxs)("div",{className:`bg-black/90 border border-orange-500/30 rounded-lg p-4 ${m}`,children:[(0,t.jsx)("audio",{ref:z,src:e,preload:"metadata"}),(0,t.jsxs)("div",{className:"mb-4 flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-orange-500 font-bold text-lg",children:a}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:r})]}),g&&(0,t.jsx)("div",{className:"bg-orange-500/20 text-orange-500 text-xs px-2 py-1 rounded-full",children:"30-Sec Preview"}),b&&(0,t.jsxs)("div",{className:"bg-red-500/20 text-red-500 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,t.jsx)(l.A,{size:12}),(0,t.jsx)("span",{children:"Premium"})]})]}),"      ",h&&(0,t.jsx)("div",{className:"mb-4 h-16 bg-black/50 rounded flex items-center justify-center border border-orange-500/20",children:(0,t.jsx)("div",{className:"flex items-end space-x-1 h-12",children:Array.from({length:40}).map((e,a)=>{let r=a/40*100,s=!g||r<=D;return(0,t.jsx)("div",{className:`w-1 transition-all duration-75 ${a<U/100*40?"opacity-100":s?"opacity-30":"opacity-10"} ${s?"bg-orange-500":"bg-gray-500"}`,style:{height:`${100*Math.random()}%`,minHeight:"4px"}},a)})})}),(0,t.jsxs)("div",{ref:T,className:"mb-4 h-2 bg-gray-700 rounded-full cursor-pointer relative",onClick:e=>{let a=z.current,r=T.current;if(!a||!r||b)return;let t=r.getBoundingClientRect(),s=(e.clientX-t.left)/t.width*w;g&&s>y&&(s=y),a.currentTime=s,N(s)},role:"slider","aria-label":"Audio progress","aria-valuemin":0,"aria-valuemax":w,"aria-valuenow":v,children:[g&&(0,t.jsx)("div",{className:"absolute top-0 bottom-0 bg-gray-500/30 rounded-full",style:{left:`${D}%`,right:0}}),(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-orange-500 to-yellow-500 rounded-full transition-all duration-100",style:{width:`${U}%`}}),g&&(0,t.jsx)("div",{className:"absolute top-0 h-full w-px bg-red-500",style:{left:`${D}%`}}),(0,t.jsx)("div",{className:"absolute top-1/2 transform -translate-y-1/2 w-4 h-4 bg-orange-500 rounded-full shadow-lg transition-all duration-100",style:{left:`calc(${U}% - 8px)`}})]}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mb-4",children:[(0,t.jsx)("span",{children:R(v)}),(0,t.jsx)("span",{children:g?(0,t.jsxs)("span",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"text-orange-400",children:R(Math.min(v,y))}),(0,t.jsx)("span",{className:"mx-1",children:"/"}),(0,t.jsx)("span",{children:R(y)})]}):u||R(w)})]}),S&&(0,t.jsxs)("div",{className:"mb-4 p-2 bg-orange-500/10 border border-orange-500/20 rounded-lg text-center text-sm",children:[(0,t.jsx)("p",{className:"text-orange-400 font-semibold",children:"Preview ended"}),(0,t.jsx)("p",{className:"text-gray-300 text-xs",children:"Purchase the full track to listen to the complete song"}),p&&(0,t.jsx)("button",{onClick:p,className:"mt-2 px-4 py-1 bg-orange-500 hover:bg-orange-600 text-black text-sm rounded-full transition-colors",children:"Purchase Now"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("button",{onClick:()=>{z.current&&!b&&(z.current.currentTime=Math.max(0,v-10))},disabled:b,className:`text-gray-400 hover:text-orange-500 transition-colors p-2 rounded-full hover:bg-orange-500/10 ${b?"opacity-50 cursor-not-allowed":""}`,"aria-label":"Rewind 10 seconds",children:(0,t.jsx)(n.A,{size:20})}),(0,t.jsx)("button",{onClick:()=>{let e=z.current;if(e){if(b){p&&p();return}S&&(e.currentTime=0,M(!1)),f?e.pause():e.play(),j(!f)}},className:`p-3 rounded-full transition-all duration-200 transform hover:scale-105 shadow-lg ${b?"bg-gray-700 hover:bg-gray-600 text-white":"bg-orange-500 hover:bg-orange-600 text-black"}`,"aria-label":f?"Pause":b?"Purchase to Play":"Play",children:b?(0,t.jsx)(l.A,{size:24}):f?(0,t.jsx)(i.A,{size:24}):(0,t.jsx)(o.A,{size:24})}),(0,t.jsx)("button",{onClick:()=>{if(z.current&&!b){let e=g?Math.min(y,w):w;z.current.currentTime=Math.min(e,v+10)}},disabled:b,className:`text-gray-400 hover:text-orange-500 transition-colors p-2 rounded-full hover:bg-orange-500/10 ${b?"opacity-50 cursor-not-allowed":""}`,"aria-label":"Fast forward 10 seconds",children:(0,t.jsx)(c.A,{size:20})})]}),"        ",(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>{let e=z.current;e&&!b&&(A?(e.volume=P,C(!1)):(e.volume=0,C(!0)))},disabled:b,className:`text-gray-400 hover:text-orange-500 transition-colors ${b?"opacity-50 cursor-not-allowed":""}`,"aria-label":A?"Unmute":"Mute",children:A?(0,t.jsx)(d.A,{size:20}):(0,t.jsx)(x.A,{size:20})}),(0,t.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:A?0:P,onChange:e=>{let a=z.current;if(!a||b)return;let r=parseFloat(e.target.value);a&&(a.volume=r,k(r),C(0===r))},disabled:b,className:`w-20 h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer slider ${b?"opacity-50 cursor-not-allowed":""}`,"aria-label":"Volume control"})]})]}),b&&p&&(0,t.jsxs)("div",{className:"mt-4 text-center",children:[(0,t.jsx)("button",{onClick:p,className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-black rounded-lg transition-colors text-sm font-medium",children:"Unlock Full Track"}),(0,t.jsx)("p",{className:"mt-2 text-xs text-gray-400",children:"Purchase required to listen to the full song"})]}),(0,t.jsxs)("div",{className:"sr-only","aria-live":"polite",children:[f?`Playing ${a}`:`Paused ${a}`,g&&" (30-second preview)",b&&" (Requires purchase)",` - ${R(v)} of ${R(g?y:w)}`]})]})}},3928:(e,a,r)=>{r.d(a,{A:()=>t});let t=(0,r(2688).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},5778:(e,a,r)=>{r.d(a,{A:()=>t});let t=(0,r(2688).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},6240:(e,a,r)=>{r.d(a,{A:()=>c});var t=r(687),s=r(3210),l=r(31),n=r(8635),i=r(3213),o=r(6972);function c({src:e,title:a,artist:r="Mac Wayne",duration:c,className:d="",showWaveform:x=!1,previewMode:u=!1,previewDuration:m=30,trackPrice:h=1.99,albumId:g,trackId:y,contentType:b=o.sE.TRACK}){let{isAuthenticated:p,user:f}=(0,i.A)(),[j,v]=(0,s.useState)(!1),N=y||g||a,w=p&&f?.id&&(0,o._Z)(f.id,b,N);return(0,t.jsx)("div",{className:"relative",children:j?(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)(n.A,{amount:h,description:`Purchase "${a}" by ${r}`,onSuccess:e=>{f?.id&&((0,o.XU)(f.id,b,N,h,e),v(!1),alert("Thank you for your purchase! You can now enjoy the full content."))},onError:e=>{console.error(`Payment error: ${e}`)},className:"mb-4"}),(0,t.jsx)("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-white underline text-sm w-full text-center block mt-2",children:"Cancel"})]}):(0,t.jsx)(l.A,{src:e,title:a,artist:r,duration:c,className:d,showWaveform:x,previewMode:u&&!w,previewDuration:m,requiresPurchase:!w&&!u,onPurchaseClick:()=>{if(!p)return void alert("Please log in to purchase this content");v(!0)}})})}},6972:(e,a,r)=>{r.d(a,{XU:()=>l,_Z:()=>n,sE:()=>s});var t=r(4084),s=function(e){return e.TRACK="track",e.ALBUM="album",e.DOCUMENTARY="documentary",e}({});function l(e,a,r,s,l){let n={id:`purchase_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,userId:e,type:a,itemId:r,timestamp:Date.now(),amount:s,paymentId:l};[].push(n);try{let l=Math.min(Math.floor(s/10)+1,3),n=`Purchased ${a} (${r}) - $${s}`;(0,t.le)(e,t.ek.PURCHASE,n,l)}catch(e){console.error("Failed to award loyalty points:",e)}return n}function n(e,a,r){return!!e&&[].some(t=>t.userId===e&&t.type===a&&t.itemId===r)}},8635:(e,a,r)=>{r.d(a,{A:()=>d});var t=r(687),s=r(3210),l=r(3928),n=r(5778),i=r(9891);let o=(0,r(2688).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),c=[{id:"paypal",name:"PayPal",icon:(0,t.jsx)(l.A,{size:24}),type:"paypal",available:!0},{id:"card",name:"Credit Card",icon:(0,t.jsx)(n.A,{size:24}),type:"stripe",available:!0},{id:"crypto",name:"Cryptocurrency",icon:(0,t.jsx)(i.A,{size:24}),type:"crypto",available:!1}];function d({amount:e,currency:a="USD",description:r,onSuccess:l,onError:n,className:d=""}){let[x,u]=(0,s.useState)("paypal"),[m,h]=(0,s.useState)(!1),[g,y]=(0,s.useState)(""),b=async()=>{h(!0),y("");try{console.log("Processing PayPal payment:",{amount:e,currency:a,description:r}),await new Promise(e=>setTimeout(e,2e3));let t=`pp_${Date.now()}`;l?.(t)}catch(a){let e="PayPal payment failed. Please try again.";y(e),n?.(e)}finally{h(!1)}},p=async()=>{h(!0),y("");try{console.log("Processing Stripe payment:",{amount:e,currency:a,description:r}),await new Promise(e=>setTimeout(e,2e3));let t=`stripe_${Date.now()}`;l?.(t)}catch(a){let e="Credit card payment failed. Please try again.";y(e),n?.(e)}finally{h(!1)}},f=async()=>{"paypal"===x?await b():"card"===x&&await p()},j=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:a}).format(e);return(0,t.jsxs)("div",{className:`bg-black/90 border border-orange-500/30 rounded-lg p-6 ${d}`,children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-orange-500 mb-2",children:"Complete Payment"}),(0,t.jsx)("p",{className:"text-gray-300",children:r}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white mt-2",children:j(e)})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white mb-3",children:"Select Payment Method"}),(0,t.jsx)("div",{className:"space-y-3",children:c.map(e=>(0,t.jsxs)("button",{onClick:()=>u(e.id),disabled:!e.available||m,className:`w-full p-4 rounded-lg border-2 transition-all duration-200 flex items-center space-x-3 ${x===e.id?"border-orange-500 bg-orange-500/10":"border-gray-600 hover:border-orange-500/50"} ${!e.available?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,"aria-label":`Select ${e.name} payment method`,children:[(0,t.jsx)("div",{className:`p-2 rounded-full ${x===e.id?"bg-orange-500 text-black":"bg-gray-700 text-gray-300"}`,children:e.icon}),(0,t.jsxs)("div",{className:"flex-1 text-left",children:[(0,t.jsx)("div",{className:"font-medium text-white",children:e.name}),!e.available&&(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Coming Soon"})]}),(0,t.jsx)("div",{className:`w-4 h-4 rounded-full border-2 ${x===e.id?"border-orange-500 bg-orange-500":"border-gray-400"}`,children:x===e.id&&(0,t.jsx)("div",{className:"w-full h-full rounded-full bg-orange-500"})})]},e.id))})]}),g&&(0,t.jsxs)("div",{className:"mb-4 p-4 bg-red-900/50 border border-red-500/50 rounded-lg flex items-center space-x-3",children:[(0,t.jsx)(o,{className:"text-red-500",size:20}),(0,t.jsx)("p",{className:"text-red-300",children:g})]}),(0,t.jsxs)("div",{className:"mb-6 p-4 bg-gray-900/50 border border-gray-600 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,t.jsx)(i.A,{className:"text-green-500",size:16}),(0,t.jsx)("span",{className:"text-sm font-medium text-green-500",children:"Secure Payment"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Your payment information is encrypted and secure. Mac Wayne Official uses industry-standard security measures."})]}),(0,t.jsx)("button",{onClick:f,disabled:m||!c.find(e=>e.id===x)?.available,className:`w-full py-4 px-6 rounded-lg font-bold text-lg transition-all duration-200 ${m?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-black transform hover:scale-105 shadow-lg"}`,"aria-label":`Pay ${j(e)} with ${c.find(e=>e.id===x)?.name}`,children:m?(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-400"}),(0,t.jsx)("span",{children:"Processing..."})]}):`Pay ${j(e)}`}),(0,t.jsxs)("div",{className:"sr-only","aria-live":"polite",children:[m&&"Payment is being processed",g&&`Payment error: ${g}`]})]})}}};