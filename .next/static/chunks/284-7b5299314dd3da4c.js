"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[284],{283:(e,t,i)=>{i.d(t,{A:()=>s,O:()=>o});var r=i(5155),a=i(2115);let n=(0,a.createContext)(void 0);function o(e){let{children:t}=e,[i,o]=(0,a.useState)(null),[s,l]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{if(localStorage.getItem("auth_token")){let e=localStorage.getItem("user_data");e&&o(JSON.parse(e))}}catch(e){console.error("Auth check failed:",e)}finally{l(!1)}})()},[]);let c=async(e,t)=>{try{l(!0),await new Promise(e=>setTimeout(e,1e3));let t={id:"1",email:e,name:e.split("@")[0],isDeputyMember:!1,loyaltyPoints:100};return o(t),localStorage.setItem("auth_token","mock_token_"+Date.now()),localStorage.setItem("user_data",JSON.stringify(t)),!0}catch(e){return console.error("Login failed:",e),!1}finally{l(!1)}},u=async(e,t,i)=>{try{l(!0),await new Promise(e=>setTimeout(e,1e3));let t={id:"1",email:e,name:i,isDeputyMember:!1,loyaltyPoints:0};return o(t),localStorage.setItem("auth_token","mock_token_"+Date.now()),localStorage.setItem("user_data",JSON.stringify(t)),!0}catch(e){return console.error("Registration failed:",e),!1}finally{l(!1)}};return(0,r.jsx)(n.Provider,{value:{user:i,isLoading:s,isAuthenticated:!!i,login:c,register:u,logout:()=>{o(null),localStorage.removeItem("auth_token"),localStorage.removeItem("user_data")},updateUser:e=>{if(i){let t={...i,...e};o(t),localStorage.setItem("user_data",JSON.stringify(t))}}},children:t})}function s(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2430:(e,t,i)=>{i.d(t,{Ao:()=>m,C_:()=>_,Ee:()=>S,Nz:()=>y,T3:()=>a,ct:()=>u,ek:()=>r,er:()=>h,gI:()=>w,le:()=>d,oi:()=>b,x6:()=>p});var r=function(e){return e.PURCHASE="purchase",e.SHARE="share",e.REVIEW="review",e.VOLUNTEER="volunteer",e.SIGNUP="signup",e.REFERRAL="referral",e.SOCIAL_FOLLOW="social_follow",e.STREAM="stream",e.CONCERT_ATTEND="concert_attend",e}({}),a=function(e){return e.DEPUTY="deputy",e.SHERIFF="sheriff",e.LEGEND="legend",e}({});let n={purchase:25,share:10,review:15,volunteer:50,signup:100,referral:75,social_follow:20,stream:5,concert_attend:100},o={sheriff:500,legend:1500},s="mac_wayne_loyalty_profile",l="mac_wayne_point_transactions",c="mac_wayne_redeemed_rewards";function u(e){if(!e)return v(e);let t=k(),i=t[e];if(i){let e=f(i.totalPoints);return{...i,tier:e}}let r=v(e);return t[e]=r,D(t),r}function d(e,t,i){var r;let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4?arguments[4]:void 0,s=Math.floor(n[t]*a),c={id:P(),userId:e,activity:t,points:s,timestamp:Date.now(),description:i||({purchase:"Made a purchase",share:"Shared content on social media",review:"Left a review",volunteer:"Volunteered in live session",signup:"Joined Sheriff Thizz Rewards",referral:"Referred a friend",social_follow:"Followed on social media",stream:"Streamed music",concert_attend:"Attended concert"})[t],metadata:o},d=C();d.push(c),r=d,localStorage.setItem(l,JSON.stringify(r));let m=u(e);m.totalPoints+=s,m.availablePoints+=s,m.pointsEarned+=s,m.lastActivity=Date.now(),m.tier=f(m.totalPoints),m.activitiesCompleted||(m.activitiesCompleted={purchase:0,share:0,review:0,volunteer:0,signup:0,referral:0,social_follow:0,stream:0,concert_attend:0}),m.activitiesCompleted[t]=(m.activitiesCompleted[t]||0)+1,function(e,t){let i=[];"purchase"!==t.activity||e.achievements.includes("first_purchase")||i.push("first_purchase"),[100,500,1e3,2e3,5e3].forEach(t=>{let r="points_".concat(t);e.totalPoints>=t&&!e.achievements.includes(r)&&i.push(r)}),C().filter(t=>t.userId===e.userId&&"share"===t.activity).length>=10&&!e.achievements.includes("social_butterfly")&&i.push("social_butterfly"),e.achievements.push(...i)}(m,c);let p=k();return p[e]=m,D(p),c}function m(e,t){let i=u(e);if(i.availablePoints<t.points||t.tier&&!g(i.tier,t.tier)||!t.available)return!1;i.availablePoints-=t.points,i.pointsSpent+=t.points,i.lastActivity=Date.now();let r=k();return r[e]=i,D(r),function(e,t){var i;let r=function(){try{let e=localStorage.getItem(c);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load redeemed rewards:",e),[]}}(),a={id:P(),userId:e,rewardId:t.id,rewardName:t.name,points:t.points,timestamp:Date.now()};r.push(a),i=r,localStorage.setItem(c,JSON.stringify(i))}(e,t),!0}function p(e){return C().filter(t=>t.userId===e).sort((e,t)=>t.timestamp-e.timestamp)}function f(e){return e>=o.legend?"legend":e>=o.sheriff?"sheriff":"deputy"}function h(e){return[{id:"early_release",name:"Early Music Access",description:"Get new tracks 24 hours before public release",points:150,category:"music",available:!0,tier:"deputy"},{id:"name_song",name:"Name a Song",description:"Help Mac name his next track",points:750,category:"music",available:!0,tier:"sheriff"},{id:"dj_request",name:"DJ Set Requests",description:"Request songs for Mac's next live DJ set",points:300,category:"music",available:!0},{id:"producer_credit",name:"Producer Credit",description:"Get credited as executive producer on next album",points:2e3,category:"music",available:!0,tier:"legend",quantity:1},{id:"facetime_call",name:"FaceTime with Mac",description:"15-minute personal video call",points:500,category:"meet",available:!0,tier:"sheriff"},{id:"studio_visit",name:"Studio Visit",description:"Visit Mac's studio in person",points:1e3,category:"meet",available:!0,tier:"legend",quantity:2},{id:"concert_backstage",name:"Backstage Pass",description:"Backstage access at next concert",points:800,category:"meet",available:!0,tier:"sheriff"},{id:"signed_vinyl",name:"Signed Vinyl",description:"Limited edition signed record",points:200,category:"merch",available:!0},{id:"custom_hoodie",name:"Custom Sheriff Hoodie",description:"Personalized hoodie with your name",points:400,category:"merch",available:!0,tier:"deputy"},{id:"gold_chain",name:"Mac Wayne Gold Chain",description:"Exclusive gold chain replica",points:1200,category:"merch",available:!0,tier:"legend",quantity:5},{id:"front_row_tickets",name:"Front Row Concert Tickets",description:"Best seats in the house for next show",points:600,category:"experience",available:!0,tier:"sheriff"},{id:"private_performance",name:"Private Performance",description:"Exclusive 30-minute private show",points:2500,category:"experience",available:!0,tier:"legend",quantity:1},{id:"dinner_mac",name:"Dinner with Mac",description:"Private dining experience",points:1800,category:"experience",available:!0,tier:"legend",quantity:2}].filter(t=>t.available&&(!t.tier||g(e,t.tier)))}function g(e,t){let i={deputy:1,sheriff:2,legend:3};return i[e]>=i[t]}function v(e){return{userId:e,totalPoints:0,availablePoints:0,tier:"deputy",joinDate:Date.now(),lastActivity:Date.now(),pointsSpent:0,pointsEarned:0,achievements:[],activitiesCompleted:{purchase:0,share:0,review:0,volunteer:0,signup:0,referral:0,social_follow:0,stream:0,concert_attend:0},streakCount:0,lastLoginDate:Date.now()}}function y(){let e=Date.now();return[{id:"double_share_weekend",title:"2X Share Points Weekend",description:"Get double points for sharing Mac's content this weekend!",multiplier:2,activity:"share",expires:e+6048e5},{id:"new_member_bonus",title:"Welcome Bonus",description:"New members get triple points for their first week!",multiplier:3,expires:e+6048e5}]}function w(e){let t=u(e),i=new Date().toDateString(),r=new Date(t.lastLoginDate||0).toDateString(),a=new Date(Date.now()-864e5).toDateString();if(r===i)return null;t.streakCount||(t.streakCount=0),t.lastLoginDate||(t.lastLoginDate=Date.now()),r===a?t.streakCount+=1:r!==i&&(t.streakCount=1),t.lastLoginDate=Date.now();let n="legend"===t.tier?15:"sheriff"===t.tier?10:5,o=k();return o[e]=t,D(o),d(e,"signup","Daily login bonus (".concat(t.tier,")"),n/100)}function _(e){let t=C().filter(t=>t.userId===e).sort((e,t)=>t.timestamp-e.timestamp);return t.filter(e=>e.timestamp>Date.now()-6048e5).length>=7&&!t.some(e=>e.description.includes("7-day streak")&&e.timestamp>Date.now()-6048e5)?d(e,"signup","7-day streak bonus!",1):null}function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return Object.values(k()).map(e=>({rank:0,userId:e.userId,displayName:"Sheriff ".concat(e.userId.slice(-4)),totalPoints:e.totalPoints,tier:e.tier,achievements:e.achievements.length})).sort((e,t)=>t.totalPoints-e.totalPoints).slice(0,e).map((e,t)=>({...e,rank:t+1}))}function b(e){let t=k();return t[e]?Object.values(t).sort((e,t)=>t.totalPoints-e.totalPoints).findIndex(t=>t.userId===e)+1:0}function k(){try{let e=localStorage.getItem(s);return e?JSON.parse(e):{}}catch(e){return console.error("Failed to load loyalty profiles:",e),{}}}function D(e){localStorage.setItem(s,JSON.stringify(e))}function C(){try{let e=localStorage.getItem(l);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load point transactions:",e),[]}}function P(){return"txn_".concat(Date.now(),"_").concat(Math.random().toString(36).substring(2,9))}},5525:(e,t,i)=>{i.d(t,{A:()=>r});let r=(0,i(9946).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},9946:(e,t,i)=>{i.d(t,{A:()=>d});var r=i(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),o=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},s=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.filter((e,t,i)=>!!e&&""!==e.trim()&&i.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,r.forwardRef)((e,t)=>{let{color:i="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:u="",children:d,iconNode:m,...p}=e;return(0,r.createElement)("svg",{ref:t,...c,width:a,height:a,stroke:i,strokeWidth:o?24*Number(n)/Number(a):n,className:s("lucide",u),...!d&&!l(p)&&{"aria-hidden":"true"},...p},[...m.map(e=>{let[t,i]=e;return(0,r.createElement)(t,i)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let i=(0,r.forwardRef)((i,n)=>{let{className:l,...c}=i;return(0,r.createElement)(u,{ref:n,iconNode:t,className:s("lucide-".concat(a(o(e))),"lucide-".concat(e),l),...c})});return i.displayName=o(e),i}}}]);