"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[748],{305:(e,a,t)=>{t.d(a,{A:()=>m});var r=t(5155),s=t(2115),n=t(2919),l=t(133),o=t(2178),c=t(5690),i=t(9114),d=t(2152),u=t(5273);function m(e){let{src:a,title:t,artist:m="Mac Wayne",duration:x,className:h="",showWaveform:g=!1,previewMode:y=!1,previewDuration:p=30,requiresPurchase:b=!1,onPurchaseClick:f}=e,[v,j]=(0,s.useState)(!1),[N,w]=(0,s.useState)(0),[P,k]=(0,s.useState)(0),[A,S]=(0,s.useState)(1),[C,M]=(0,s.useState)(!1),[z,E]=(0,s.useState)(!1),T=(0,s.useRef)(null),_=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=T.current;if(!e)return;let a=()=>{w(e.currentTime),y&&e.currentTime>=p&&(e.pause(),j(!1),E(!0))},t=()=>k(e.duration),r=()=>{j(!1),E(!1)};return e.addEventListener("timeupdate",a),e.addEventListener("loadedmetadata",t),e.addEventListener("ended",r),()=>{e.removeEventListener("timeupdate",a),e.removeEventListener("loadedmetadata",t),e.removeEventListener("ended",r)}},[y,p]);let R=e=>{if(isNaN(e))return"0:00";let a=Math.floor(e/60),t=Math.floor(e%60);return"".concat(a,":").concat(t.toString().padStart(2,"0"))},U=P?N/P*100:0,D=y&&P?p/P*100:100;return(0,r.jsxs)("div",{className:"bg-black/90 border border-orange-500/30 rounded-lg p-4 ".concat(h),children:[(0,r.jsx)("audio",{ref:T,src:a,preload:"metadata"}),(0,r.jsxs)("div",{className:"mb-4 flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-orange-500 font-bold text-lg",children:t}),(0,r.jsx)("p",{className:"text-gray-300 text-sm",children:m})]}),y&&(0,r.jsx)("div",{className:"bg-orange-500/20 text-orange-500 text-xs px-2 py-1 rounded-full",children:"30-Sec Preview"}),b&&(0,r.jsxs)("div",{className:"bg-red-500/20 text-red-500 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,r.jsx)(n.A,{size:12}),(0,r.jsx)("span",{children:"Premium"})]})]}),"      ",g&&(0,r.jsx)("div",{className:"mb-4 h-16 bg-black/50 rounded flex items-center justify-center border border-orange-500/20",children:(0,r.jsx)("div",{className:"flex items-end space-x-1 h-12",children:Array.from({length:40}).map((e,a)=>{let t=a/40*100,s=!y||t<=D;return(0,r.jsx)("div",{className:"w-1 transition-all duration-75 ".concat(a<U/100*40?"opacity-100":s?"opacity-30":"opacity-10"," ").concat(s?"bg-orange-500":"bg-gray-500"),style:{height:"".concat(100*Math.random(),"%"),minHeight:"4px"}},a)})})}),(0,r.jsxs)("div",{ref:_,className:"mb-4 h-2 bg-gray-700 rounded-full cursor-pointer relative",onClick:e=>{let a=T.current,t=_.current;if(!a||!t||b)return;let r=t.getBoundingClientRect(),s=(e.clientX-r.left)/r.width*P;y&&s>p&&(s=p),a.currentTime=s,w(s)},role:"slider","aria-label":"Audio progress","aria-valuemin":0,"aria-valuemax":P,"aria-valuenow":N,children:[y&&(0,r.jsx)("div",{className:"absolute top-0 bottom-0 bg-gray-500/30 rounded-full",style:{left:"".concat(D,"%"),right:0}}),(0,r.jsx)("div",{className:"h-full bg-gradient-to-r from-orange-500 to-yellow-500 rounded-full transition-all duration-100",style:{width:"".concat(U,"%")}}),y&&(0,r.jsx)("div",{className:"absolute top-0 h-full w-px bg-red-500",style:{left:"".concat(D,"%")}}),(0,r.jsx)("div",{className:"absolute top-1/2 transform -translate-y-1/2 w-4 h-4 bg-orange-500 rounded-full shadow-lg transition-all duration-100",style:{left:"calc(".concat(U,"% - 8px)")}})]}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mb-4",children:[(0,r.jsx)("span",{children:R(N)}),(0,r.jsx)("span",{children:y?(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"text-orange-400",children:R(Math.min(N,p))}),(0,r.jsx)("span",{className:"mx-1",children:"/"}),(0,r.jsx)("span",{children:R(p)})]}):x||R(P)})]}),z&&(0,r.jsxs)("div",{className:"mb-4 p-2 bg-orange-500/10 border border-orange-500/20 rounded-lg text-center text-sm",children:[(0,r.jsx)("p",{className:"text-orange-400 font-semibold",children:"Preview ended"}),(0,r.jsx)("p",{className:"text-gray-300 text-xs",children:"Purchase the full track to listen to the complete song"}),f&&(0,r.jsx)("button",{onClick:f,className:"mt-2 px-4 py-1 bg-orange-500 hover:bg-orange-600 text-black text-sm rounded-full transition-colors",children:"Purchase Now"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("button",{onClick:()=>{T.current&&!b&&(T.current.currentTime=Math.max(0,N-10))},disabled:b,className:"text-gray-400 hover:text-orange-500 transition-colors p-2 rounded-full hover:bg-orange-500/10 ".concat(b?"opacity-50 cursor-not-allowed":""),"aria-label":"Rewind 10 seconds",children:(0,r.jsx)(l.A,{size:20})}),(0,r.jsx)("button",{onClick:()=>{let e=T.current;if(e){if(b){f&&f();return}z&&(e.currentTime=0,E(!1)),v?e.pause():e.play(),j(!v)}},className:"p-3 rounded-full transition-all duration-200 transform hover:scale-105 shadow-lg ".concat(b?"bg-gray-700 hover:bg-gray-600 text-white":"bg-orange-500 hover:bg-orange-600 text-black"),"aria-label":v?"Pause":b?"Purchase to Play":"Play",children:b?(0,r.jsx)(n.A,{size:24}):v?(0,r.jsx)(o.A,{size:24}):(0,r.jsx)(c.A,{size:24})}),(0,r.jsx)("button",{onClick:()=>{if(T.current&&!b){let e=y?Math.min(p,P):P;T.current.currentTime=Math.min(e,N+10)}},disabled:b,className:"text-gray-400 hover:text-orange-500 transition-colors p-2 rounded-full hover:bg-orange-500/10 ".concat(b?"opacity-50 cursor-not-allowed":""),"aria-label":"Fast forward 10 seconds",children:(0,r.jsx)(i.A,{size:20})})]}),"        ",(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>{let e=T.current;e&&!b&&(C?(e.volume=A,M(!1)):(e.volume=0,M(!0)))},disabled:b,className:"text-gray-400 hover:text-orange-500 transition-colors ".concat(b?"opacity-50 cursor-not-allowed":""),"aria-label":C?"Unmute":"Mute",children:C?(0,r.jsx)(d.A,{size:20}):(0,r.jsx)(u.A,{size:20})}),(0,r.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:C?0:A,onChange:e=>{let a=T.current;if(!a||b)return;let t=parseFloat(e.target.value);a&&(a.volume=t,S(t),M(0===t))},disabled:b,className:"w-20 h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer slider ".concat(b?"opacity-50 cursor-not-allowed":""),"aria-label":"Volume control"})]})]}),b&&f&&(0,r.jsxs)("div",{className:"mt-4 text-center",children:[(0,r.jsx)("button",{onClick:f,className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-black rounded-lg transition-colors text-sm font-medium",children:"Unlock Full Track"}),(0,r.jsx)("p",{className:"mt-2 text-xs text-gray-400",children:"Purchase required to listen to the full song"})]}),(0,r.jsxs)("div",{className:"sr-only","aria-live":"polite",children:[v?"Playing ".concat(t):"Paused ".concat(t),y&&" (30-second preview)",b&&" (Requires purchase)"," - ".concat(R(N)," of ").concat(R(y?p:P))]})]})}},1341:(e,a,t)=>{t.d(a,{A:()=>d});var r=t(5155),s=t(2115),n=t(5868),l=t(1586),o=t(5525);let c=(0,t(9946).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),i=[{id:"paypal",name:"PayPal",icon:(0,r.jsx)(n.A,{size:24}),type:"paypal",available:!0},{id:"card",name:"Credit Card",icon:(0,r.jsx)(l.A,{size:24}),type:"stripe",available:!0},{id:"crypto",name:"Cryptocurrency",icon:(0,r.jsx)(o.A,{size:24}),type:"crypto",available:!1}];function d(e){var a,t;let{amount:n,currency:l="USD",description:d,onSuccess:u,onError:m,className:x=""}=e,[h,g]=(0,s.useState)("paypal"),[y,p]=(0,s.useState)(!1),[b,f]=(0,s.useState)(""),v=async()=>{p(!0),f("");try{console.log("Processing PayPal payment:",{amount:n,currency:l,description:d}),await new Promise(e=>setTimeout(e,2e3));let e="pp_".concat(Date.now());null==u||u(e)}catch(a){let e="PayPal payment failed. Please try again.";f(e),null==m||m(e)}finally{p(!1)}},j=async()=>{p(!0),f("");try{console.log("Processing Stripe payment:",{amount:n,currency:l,description:d}),await new Promise(e=>setTimeout(e,2e3));let e="stripe_".concat(Date.now());null==u||u(e)}catch(a){let e="Credit card payment failed. Please try again.";f(e),null==m||m(e)}finally{p(!1)}},N=async()=>{"paypal"===h?await v():"card"===h&&await j()},w=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:l}).format(e);return(0,r.jsxs)("div",{className:"bg-black/90 border border-orange-500/30 rounded-lg p-6 ".concat(x),children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-orange-500 mb-2",children:"Complete Payment"}),(0,r.jsx)("p",{className:"text-gray-300",children:d}),(0,r.jsx)("div",{className:"text-2xl font-bold text-white mt-2",children:w(n)})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold text-white mb-3",children:"Select Payment Method"}),(0,r.jsx)("div",{className:"space-y-3",children:i.map(e=>(0,r.jsxs)("button",{onClick:()=>g(e.id),disabled:!e.available||y,className:"w-full p-4 rounded-lg border-2 transition-all duration-200 flex items-center space-x-3 ".concat(h===e.id?"border-orange-500 bg-orange-500/10":"border-gray-600 hover:border-orange-500/50"," ").concat(e.available?"cursor-pointer":"opacity-50 cursor-not-allowed"),"aria-label":"Select ".concat(e.name," payment method"),children:[(0,r.jsx)("div",{className:"p-2 rounded-full ".concat(h===e.id?"bg-orange-500 text-black":"bg-gray-700 text-gray-300"),children:e.icon}),(0,r.jsxs)("div",{className:"flex-1 text-left",children:[(0,r.jsx)("div",{className:"font-medium text-white",children:e.name}),!e.available&&(0,r.jsx)("div",{className:"text-sm text-gray-400",children:"Coming Soon"})]}),(0,r.jsx)("div",{className:"w-4 h-4 rounded-full border-2 ".concat(h===e.id?"border-orange-500 bg-orange-500":"border-gray-400"),children:h===e.id&&(0,r.jsx)("div",{className:"w-full h-full rounded-full bg-orange-500"})})]},e.id))})]}),b&&(0,r.jsxs)("div",{className:"mb-4 p-4 bg-red-900/50 border border-red-500/50 rounded-lg flex items-center space-x-3",children:[(0,r.jsx)(c,{className:"text-red-500",size:20}),(0,r.jsx)("p",{className:"text-red-300",children:b})]}),(0,r.jsxs)("div",{className:"mb-6 p-4 bg-gray-900/50 border border-gray-600 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,r.jsx)(o.A,{className:"text-green-500",size:16}),(0,r.jsx)("span",{className:"text-sm font-medium text-green-500",children:"Secure Payment"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"Your payment information is encrypted and secure. Mac Wayne Official uses industry-standard security measures."})]}),(0,r.jsx)("button",{onClick:N,disabled:y||!(null==(a=i.find(e=>e.id===h))?void 0:a.available),className:"w-full py-4 px-6 rounded-lg font-bold text-lg transition-all duration-200 ".concat(y?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-black transform hover:scale-105 shadow-lg"),"aria-label":"Pay ".concat(w(n)," with ").concat(null==(t=i.find(e=>e.id===h))?void 0:t.name),children:y?(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-400"}),(0,r.jsx)("span",{children:"Processing..."})]}):"Pay ".concat(w(n))}),(0,r.jsxs)("div",{className:"sr-only","aria-live":"polite",children:[y&&"Payment is being processed",b&&"Payment error: ".concat(b)]})]})}},1586:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(9946).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},5748:(e,a,t)=>{t.d(a,{A:()=>i});var r=t(5155),s=t(2115),n=t(305),l=t(1341),o=t(283),c=t(6998);function i(e){let{src:a,title:t,artist:i="Mac Wayne",duration:d,className:u="",showWaveform:m=!1,previewMode:x=!1,previewDuration:h=30,trackPrice:g=1.99,albumId:y,trackId:p,contentType:b=c.sE.TRACK}=e,{isAuthenticated:f,user:v}=(0,o.A)(),[j,N]=(0,s.useState)(!1),w=p||y||t,P=f&&(null==v?void 0:v.id)&&(0,c._Z)(v.id,b,w);return(0,r.jsx)("div",{className:"relative",children:j?(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)(l.A,{amount:g,description:'Purchase "'.concat(t,'" by ').concat(i),onSuccess:e=>{(null==v?void 0:v.id)&&((0,c.XU)(v.id,b,w,g,e),N(!1),alert("Thank you for your purchase! You can now enjoy the full content."))},onError:e=>{console.error("Payment error: ".concat(e))},className:"mb-4"}),(0,r.jsx)("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-white underline text-sm w-full text-center block mt-2",children:"Cancel"})]}):(0,r.jsx)(n.A,{src:a,title:t,artist:i,duration:d,className:u,showWaveform:m,previewMode:x&&!P,previewDuration:h,requiresPurchase:!P&&!x,onPurchaseClick:()=>{if(!f)return void alert("Please log in to purchase this content");N(!0)}})})}},5868:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(9946).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},6998:(e,a,t)=>{t.d(a,{XU:()=>l,_Z:()=>o,sE:()=>s});var r=t(2430),s=function(e){return e.TRACK="track",e.ALBUM="album",e.DOCUMENTARY="documentary",e}({});let n="mac_wayne_purchases";function l(e,a,t,s,l){var o;let i={id:"purchase_".concat(Date.now(),"_").concat(Math.random().toString(36).substring(2,9)),userId:e,type:a,itemId:t,timestamp:Date.now(),amount:s,paymentId:l},d=c();d.push(i),o=d,localStorage.setItem(n,JSON.stringify(o));try{let n=Math.min(Math.floor(s/10)+1,3),l="Purchased ".concat(a," (").concat(t,") - $").concat(s);(0,r.le)(e,r.ek.PURCHASE,l,n)}catch(e){console.error("Failed to award loyalty points:",e)}return i}function o(e,a,t){return!!e&&c().some(r=>r.userId===e&&r.type===a&&r.itemId===t)}function c(){try{let e=localStorage.getItem(n);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load purchases:",e),[]}}}}]);